var map;$(document).ready(function(){function o(o,n){console.log(o.carparkName[0].name),a(o),console.log(o),console.log(n)}function a(o){map.drawRoute({origin:o.origin,destination:o.destination,waypoints:[{location:o.waypoints[0].location}],travelMode:"bicycling",strokeColor:"#131540",strokeOpacity:.3,strokeWeight:3})}map=new GMaps({div:"#mapHolder",zoom:12,lat:51.379444,lng:-2.365556}),$("#submit-options").click(function(){$(".wr__nav").hide(),$(".wr__results").show(),$(".home-copy").fadeOut();var a="bs57xt",n="bs14nd",i=function(){var o=null;return $.ajax({async:!1,global:!1,url:"/parking.json",dataType:"json",success:function(a){o=a}}),o}();GMaps.geocode({address:a,callback:function(a,c){if("OK"==c){var t=a[0].geometry.location;GMaps.geocode({address:n,callback:function(a,n){if("OK"==n){var c=a[0].geometry.location,e={origin:[t.k,t.A],destination:[c.k,c.A],travelMode:"bicycling",waypoints:[{location:i.car_parks[0].postcode}],carparkName:[{name:i.car_parks[0].name}]};map.getRoutes({origin:[t.k,t.A],destination:[c.k,c.A],travelMode:"bicycling",waypoints:[{location:i.car_parks[0].postcode}],callback:function(a){o(e,a[0].legs)}})}}})}}}),GMaps.geocode({address:a,callback:function(a,c){if("OK"==c){var t=a[0].geometry.location;GMaps.geocode({address:n,callback:function(a,n){if("OK"==n){var c=a[0].geometry.location,e={origin:[t.k,t.A],destination:[c.k,c.A],travelMode:"bicycling",waypoints:[{location:i.car_parks[1].postcode}]};map.getRoutes({origin:[t.k,t.A],destination:[c.k,c.A],travelMode:"bicycling",waypoints:[{location:i.car_parks[1].postcode}],callback:function(a){o(e,a[0].legs)}})}}})}}}),GMaps.geocode({address:a,callback:function(a,c){if("OK"==c){var t=a[0].geometry.location;GMaps.geocode({address:n,callback:function(a,n){if("OK"==n){var c=a[0].geometry.location,e={origin:[t.k,t.A],destination:[c.k,c.A],travelMode:"bicycling",waypoints:[{location:i.car_parks[2].postcode}]};map.getRoutes({origin:[t.k,t.A],destination:[c.k,c.A],travelMode:"bicycling",waypoints:[{location:i.car_parks[2].postcode}],callback:function(a){o(e,a[0].legs)}})}}})}}})}),$(".quick-nav a").on("click",function(){$(".home-copy").hide(),$(document.getElementById($(this).data("id"))).show()})});